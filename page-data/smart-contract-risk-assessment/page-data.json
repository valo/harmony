{"componentChunkName":"component---node-modules-narative-gatsby-theme-novela-src-templates-article-template-tsx","path":"/smart-contract-risk-assessment","result":{"pageContext":{"article":{"id":"6e775b27-ab22-5192-9add-dcf63d9ceed6","slug":"/smart-contract-risk-assessment","secret":false,"title":"Smart Contract Risk Assessment","author":"Valentin Mihov","date":"December 20th, 2020","dateForSEO":"2020-12-20T00:00:00.000Z","timeToRead":4,"excerpt":"One of the most important aspects of DeFi investing and yield farming is the risk assessment of the smart contract where the funds are being put.","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Smart Contract Risk Assessment\",\n  \"author\": \"Valentin Mihov\",\n  \"date\": \"2020-12-20T00:00:00.000Z\",\n  \"hero\": \"./images/hero.jpg\",\n  \"excerpt\": \"One of the most important aspects of DeFi investing and yield farming is the risk assessment of the smart contract where the funds are being put.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Photo credit: \", mdx(\"a\", {\n    href: \"https://unsplash.com/@charlesdeluvio?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n  }, \"Charles Deluvio\"), \" on \", mdx(\"a\", {\n    href: \"https://unsplash.com/s/photos/code-review?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n  }, \"Unsplash\")), mdx(\"p\", null, \"One of the most important aspects of DeFi investing and yield farming is the risk assessment of the smart contract where the funds are being put. During 2020 there were multiple hacks, which exploited vulnerabilities in the DeFi protocols, leading to millions of dollars lost by the depositors. I've been involved in smart contract risk assessment since the DeFi craze started. Before that I was a CTO in the blockchain analytics company \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://santiment.net/\"\n  }), \"Santiment Network\"), \". The time at Santiment helped me dive into a lot of Ethereum smart contract code and gain experience in analyzing and understanding the emerging DeFi protocols.\"), mdx(\"p\", null, \"There are two main smart contract risks which DeFi investors should be looking for: scams (a.k.a. \\\"rug pulls\\\") and bugs/vulnerabilities. Let's first dive into the easier one: scams.\"), mdx(\"h2\", null, \"Scams\"), mdx(\"p\", null, \"As the DeFi ecosystem is growing exponentially, the amount of scammers trying to profit quickly increases. The scams have different form and approach to stealing money. In many cases the scammers fork an existing popular DeFi protocol and market it as a new alternative. They offer tempting rewards for everyone that deposit in the protocol in the form of crazy returns, usually reaching to values like 10000% annually. The rewards are usually paid in form of a new governance token, which is created by the scammers. The key differentiation here is that the scammers modify the source code of the forked protocol and include some kind of mechanism which allows them to drain the deposited funds in an address that they control. The so called \\\"rug pull\\\" mechanism is either a function, which a privileged address can call or a lack of a timelock protection of an important privileged mechanism.\"), mdx(\"p\", null, \"Usually these protocols does not attract a lot of funds in them, as the backdoors are obvious for the experienced security experts. The amount of funds being stolen in such a scam is usually under \\\\$500,000, which is smaller compared to vulnerability exploits or centralized exchange hacks, but still they are very painful for the victims. Especially when they are easily preventable if you have an expert you can ask about the safety of a given protocol.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"In the other news: a sushi fork called KoalaSwap rug pulled today $180k using a malicious migrator in the staking contract. They claimed they need 24h to put a timelock, so that they can adjust the weights of the pools. Stay safe there folks. Don't trust super high APYs \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/search?q=%24KOALA&src=ctag&ref_src=twsrc%5Etfw\"\n  }), \"$KOALA\"), \" \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/DXHsSqEGmp\"\n  }), \"pic.twitter.com/DXHsSqEGmp\")), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1330478266252144640\"\n  }), \"November 22, 2020\"))), mdx(\"p\", null, \"The biggest scam that happened in 2020 was Compounder, which managed to steal around $12 million. In this situation the anonymous developer made a fork of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://yearn.finance/vaults\"\n  }), \"yEarn Vault\"), \" smart contract system and incentivized the participants to deposit liquidity by giving away a large amount of the newly created governance token $CP3R. The protocol operated for about a month, until the developer submitted a malicious changes into its Timelock. The timelocks are put in place so that the participants in the protocol has time to review the changes and withdraw their funds. In this case nobody was paying attention to the changes submitted in the Timelock and after 24 hours the changes went into force, allowing the dev to drain all the funds from the protocols.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"Another rugpull. 10m rugged this time. On a project which was claimed safe by ppl like \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/defiyield_info\"\n  }), \"@defiyield_info\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/SolidityFinance\"\n  }), \"@SolidityFinance\"), \". A good reminder that audits are not a 100% guarantee for safu. The sad thing is that the exploit was quite a simple backdoor \\uD83E\\uDD14 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/bgX0TPvOu3\"\n  }), \"https://t.co/bgX0TPvOu3\")), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1333817662338699265\"\n  }), \"December 1, 2020\"))), mdx(\"p\", null, \"The sad part of the story is that depositors had 24 hours to see the submitted changes and withdraw their funds, but nobody was paying attention. This is why it is important to monitor each Timelock contract of the protocols you put funds into and review any changes submitted there.\"), mdx(\"h2\", null, \"Bugs and vulnerabilities\"), mdx(\"p\", null, \"The second type of problems, which could lead to losing funds in DeFi are bugs and vulnerabilities in the smart contracts. These are problems, which were not added in purpose by the developers, but could lead to hackers exploiting them and stealing funds. One of the most frequent vulnerabilities is an oracle sandwich attack. In this attack a special smart contract is deployed, which makes several steps in a single transaction:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Make one or more flash loans borrowing millions of dollars of tokens\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Manipulate the price of some tokens on exchanges like Uniswap by swapping the borrowed assets\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Execute some actions in the victim protocol, which at this point sees the manipulated prices\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Buy back the borrowed assets and return the market prices to the normal levels\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Return the flash loans\")), mdx(\"p\", null, \"After this sequence of steps the hacker is left with huge amount of profits, as the victim protocol use a manipulated price for making its calculations and thus allowing the attacker to be left with more funds, than he should be. This makes the protocol insolvent and causes the depositors to lose part or all of their investment.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"1/ Here is a breakdown of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/harvest_finance\"\n  }), \"@harvest_finance\"), \" attack. Ref \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/hIBXVQh4ca\"\n  }), \"https://t.co/hIBXVQh4ca\"), mdx(\"br\", {\n    parentName: \"p\"\n  }), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"1. Swap 11.4m USDC to USDT -> USDT price up\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"2. Deposit 60.6m USDT into Vault\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"3. Exchange 11.4m USDT to USDC -> USDT price down\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"4. Withdraw 61.1m USDT from Vault -> 0.5m profit\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"5. Rinse and repeat\"), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1320667338321154048\"\n  }), \"October 26, 2020\"))), mdx(\"p\", null, \"Although the vulnerability is well known it is not always easy to detect it when reviewing the code. In many cases the DeFi protocols are very complicated or work with other complex money legos, like baskets of tokens. This is why detecting these problems during a security review is hard and usually the person that finds the problem is also going to exploit it. If the person is with good intentions he returns the funds to the protocol after the bug is fixed, but in most cases the money are gone and the depositors never see their funds again.\"), mdx(\"p\", null, \"In order to mitigate risk against such bugs it's very important to make a good assessment of the complexity of the new protocols. Things to look for:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"leveraged positions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"pricing complex tokens, like baskets of stables\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"plug-able architectures that allow forwarding the deposited funds around different places (a.k.a. vaults)\")), mdx(\"p\", null, \"The safer protocols are the ones that has been around longer, like yEarn Vaults, Uniswap, Aave, Compound. Keep in mind that even in these cases, there are problems popping up. For example Aave saw a security problem being disclosed after many months of operating.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"Breaking Aave Upgradeability \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/ZLqEzauYki\"\n  }), \"https://t.co/ZLqEzauYki\")), \"\\u2014 Trail of Bits (@trailofbits) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/trailofbits/status/1339239357132251136\"\n  }), \"December 16, 2020\"))), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"As you can see there are smart contract risks which can be found quite easily by an expert and there are other problems, which are more tricky to detect and usually remain un-noticed. The hardest pat is to assess the unknown risks and try to be level headed about the protocols you invest into. I am thoroughly reviewing each protocol my clients and I are investing into. So far there hasn't been a single instance of funds being lost due to a scam or a bug in my investments. You can see how a professional security review looks like from my report on Dracula Protocol:\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"0/ I was approached by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/DraculaProtocol\"\n  }), \"@DraculaProtocol\"), \" to do a security review of their smart contracts. I do this work for private clients, so I haven't published such reports recently. I decided to take the offer and do the review as this protocol is interesting to me \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/eZjrefOgbn\"\n  }), \"https://t.co/eZjrefOgbn\"), \" \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/hNoVcCClsc\"\n  }), \"pic.twitter.com/hNoVcCClsc\")), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1317120493577768960\"\n  }), \"October 16, 2020\"))), mdx(\"p\", null, \"Wish you profitable farming and be careful out there! If you have questions you can contract me on twitter: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov\"\n  }), \"https://twitter.com/valentinmihov\")));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAcOknEw5Gn//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAhAyJB/9oACAEBAAEFAjMdsy7dFQNX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AWSv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AW1//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAY/AoY//8QAGRABAQEAAwAAAAAAAAAAAAAAAQARITFR/9oACAEBAAE/IRjAw9s1nUwPEyI2/9oADAMBAAIAAwAAABAM3//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QHHZ6L//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QaqIYf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUWH/2gAIAQEAAT8QIca+xUsA0+TMKTYQ3TJcaA8jJ1yf/9k=","aspectRatio":1.5031847133757963,"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/58fe7/hero.jpg","srcSet":"/static/9453d7cd715d9c94eb7ad90dd2455250/e0f30/hero.jpg 236w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/86afd/hero.jpg 472w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/58fe7/hero.jpg 944w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/02748/hero.jpg 1416w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5c241/hero.jpg 1888w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5e32d/hero.jpg 5472w","srcWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/99fbb/hero.webp","srcSetWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/77392/hero.webp 236w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/1f177/hero.webp 472w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/99fbb/hero.webp 944w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/4a492/hero.webp 1416w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/b0b8f/hero.webp 1888w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/abbc8/hero.webp 5472w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAcOknEw5Gn//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAhAyJB/9oACAEBAAEFAjMdsy7dFQNX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AWSv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AW1//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAY/AoY//8QAGRABAQEAAwAAAAAAAAAAAAAAAQARITFR/9oACAEBAAE/IRjAw9s1nUwPEyI2/9oADAMBAAIAAwAAABAM3//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QHHZ6L//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QaqIYf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUWH/2gAIAQEAAT8QIca+xUsA0+TMKTYQ3TJcaA8jJ1yf/9k=","aspectRatio":1.4954128440366972,"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/1dc0b/hero.jpg","srcSet":"/static/9453d7cd715d9c94eb7ad90dd2455250/3a5ce/hero.jpg 163w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/05730/hero.jpg 327w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/1dc0b/hero.jpg 653w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/f72c7/hero.jpg 980w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/6e4a3/hero.jpg 1306w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5e32d/hero.jpg 5472w","srcWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/0acdf/hero.webp","srcSetWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/ac59e/hero.webp 163w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/7660b/hero.webp 327w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/0acdf/hero.webp 653w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/75470/hero.webp 980w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/68d47/hero.webp 1306w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/abbc8/hero.webp 5472w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAcOknEw5Gn//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAhAyJB/9oACAEBAAEFAjMdsy7dFQNX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AWSv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AW1//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAY/AoY//8QAGRABAQEAAwAAAAAAAAAAAAAAAQARITFR/9oACAEBAAE/IRjAw9s1nUwPEyI2/9oADAMBAAIAAwAAABAM3//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QHHZ6L//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QaqIYf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUWH/2gAIAQEAAT8QIca+xUsA0+TMKTYQ3TJcaA8jJ1yf/9k=","aspectRatio":1.5,"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/eaa58/hero.jpg","srcSet":"/static/9453d7cd715d9c94eb7ad90dd2455250/5a3ee/hero.jpg 114w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/41f8f/hero.jpg 229w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/eaa58/hero.jpg 457w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/c309b/hero.jpg 686w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/e3008/hero.jpg 914w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5e32d/hero.jpg 5472w","srcWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/15384/hero.webp","srcSetWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/31fce/hero.webp 114w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/e3e25/hero.webp 229w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/15384/hero.webp 457w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/0258d/hero.webp 686w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/64ea2/hero.webp 914w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/abbc8/hero.webp 5472w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/0ff54/hero.jpg"}}},"authors":[{"authorsPage":true,"bio":"Ethereum smart contract risk assessment. DeFi investing. Yield farming. Advisor at <a href=\"https://plasma.finance/\" target=\"_blank\">https://plasma.finance/</a>. Prev CTO at <a href=\"https://santiment.net\" target=\"_blank\">Santiment Network</a>.\n","id":"e43998e6-f645-5b1a-8f80-02a13afcb2a6","name":"Valentin Mihov","featured":true,"social":[{"url":"https://twitter.com/valentinmihov"},{"url":"https://github.com/valo"},{"url":"https://www.linkedin.com/in/valentinmihov/"}],"slug":"/authors/valentin-mihov","avatar":{"small":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAQFAQMG/8QAFwEBAAMAAAAAAAAAAAAAAAAAAQACBP/aAAwDAQACEAMQAAABiXNHLo2jBOckjNocf//EABwQAQEAAgIDAAAAAAAAAAAAAAEDAhEAExIhMf/aAAgBAQABBQKGi3YcPZN1RpiMcxmfcpnXvxP/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIQEf/aAAgBAwEBPwGBoq//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAABAwUAAAAAAAAAAAAAAAAAAQIQERIhMXH/2gAIAQEABj8CaahpwSLs1j//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQBRMSH/2gAIAQEAAT8hScpcXkfXe7WD3VFIuZqIdu8tAvAwDf/aAAwDAQACAAMAAAAQl/8AQf/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8Qx3ZGyQcg5f/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8Qdglv/8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFhoUFx0f/aAAgBAQABPxC0DcH1LUJgKZqdWncC5UG6gBKreV8Qc77Qs35iR+YG5Jzkp6moeryv2f/Z","aspectRatio":1,"src":"/static/2cf0fa535296e10ce72e75178634e4ea/fa1ea/valentin-mihov.jpg","srcSet":"/static/2cf0fa535296e10ce72e75178634e4ea/afb2b/valentin-mihov.jpg 13w,\n/static/2cf0fa535296e10ce72e75178634e4ea/7c20e/valentin-mihov.jpg 25w,\n/static/2cf0fa535296e10ce72e75178634e4ea/fa1ea/valentin-mihov.jpg 50w,\n/static/2cf0fa535296e10ce72e75178634e4ea/03612/valentin-mihov.jpg 75w,\n/static/2cf0fa535296e10ce72e75178634e4ea/61cdf/valentin-mihov.jpg 100w,\n/static/2cf0fa535296e10ce72e75178634e4ea/dadfe/valentin-mihov.jpg 638w","srcWebp":"/static/2cf0fa535296e10ce72e75178634e4ea/e7b2c/valentin-mihov.webp","srcSetWebp":"/static/2cf0fa535296e10ce72e75178634e4ea/58718/valentin-mihov.webp 13w,\n/static/2cf0fa535296e10ce72e75178634e4ea/74aad/valentin-mihov.webp 25w,\n/static/2cf0fa535296e10ce72e75178634e4ea/e7b2c/valentin-mihov.webp 50w,\n/static/2cf0fa535296e10ce72e75178634e4ea/ed320/valentin-mihov.webp 75w,\n/static/2cf0fa535296e10ce72e75178634e4ea/66016/valentin-mihov.webp 100w,\n/static/2cf0fa535296e10ce72e75178634e4ea/3ea68/valentin-mihov.webp 638w","sizes":"(max-width: 50px) 100vw, 50px"},"medium":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAQFAQMG/8QAFwEBAAMAAAAAAAAAAAAAAAAAAQACBP/aAAwDAQACEAMQAAABiXNHLo2jBOckjNocf//EABwQAQEAAgIDAAAAAAAAAAAAAAEDAhEAExIhMf/aAAgBAQABBQKGi3YcPZN1RpiMcxmfcpnXvxP/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIQEf/aAAgBAwEBPwGBoq//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAABAwUAAAAAAAAAAAAAAAAAAQIQERIhMXH/2gAIAQEABj8CaahpwSLs1j//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQBRMSH/2gAIAQEAAT8hScpcXkfXe7WD3VFIuZqIdu8tAvAwDf/aAAwDAQACAAMAAAAQl/8AQf/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8Qx3ZGyQcg5f/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8Qdglv/8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFhoUFx0f/aAAgBAQABPxC0DcH1LUJgKZqdWncC5UG6gBKreV8Qc77Qs35iR+YG5Jzkp6moeryv2f/Z","aspectRatio":1,"src":"/static/2cf0fa535296e10ce72e75178634e4ea/61cdf/valentin-mihov.jpg","srcSet":"/static/2cf0fa535296e10ce72e75178634e4ea/7c20e/valentin-mihov.jpg 25w,\n/static/2cf0fa535296e10ce72e75178634e4ea/fa1ea/valentin-mihov.jpg 50w,\n/static/2cf0fa535296e10ce72e75178634e4ea/61cdf/valentin-mihov.jpg 100w,\n/static/2cf0fa535296e10ce72e75178634e4ea/59538/valentin-mihov.jpg 150w,\n/static/2cf0fa535296e10ce72e75178634e4ea/fd013/valentin-mihov.jpg 200w,\n/static/2cf0fa535296e10ce72e75178634e4ea/dadfe/valentin-mihov.jpg 638w","srcWebp":"/static/2cf0fa535296e10ce72e75178634e4ea/66016/valentin-mihov.webp","srcSetWebp":"/static/2cf0fa535296e10ce72e75178634e4ea/74aad/valentin-mihov.webp 25w,\n/static/2cf0fa535296e10ce72e75178634e4ea/e7b2c/valentin-mihov.webp 50w,\n/static/2cf0fa535296e10ce72e75178634e4ea/66016/valentin-mihov.webp 100w,\n/static/2cf0fa535296e10ce72e75178634e4ea/d9b14/valentin-mihov.webp 150w,\n/static/2cf0fa535296e10ce72e75178634e4ea/6b183/valentin-mihov.webp 200w,\n/static/2cf0fa535296e10ce72e75178634e4ea/3ea68/valentin-mihov.webp 638w","sizes":"(max-width: 100px) 100vw, 100px"},"large":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAQFAQMG/8QAFwEBAAMAAAAAAAAAAAAAAAAAAQACBP/aAAwDAQACEAMQAAABiXNHLo2jBOckjNocf//EABwQAQEAAgIDAAAAAAAAAAAAAAEDAhEAExIhMf/aAAgBAQABBQKGi3YcPZN1RpiMcxmfcpnXvxP/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIQEf/aAAgBAwEBPwGBoq//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAABAwUAAAAAAAAAAAAAAAAAAQIQERIhMXH/2gAIAQEABj8CaahpwSLs1j//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQBRMSH/2gAIAQEAAT8hScpcXkfXe7WD3VFIuZqIdu8tAvAwDf/aAAwDAQACAAMAAAAQl/8AQf/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8Qx3ZGyQcg5f/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8Qdglv/8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFhoUFx0f/aAAgBAQABPxC0DcH1LUJgKZqdWncC5UG6gBKreV8Qc77Qs35iR+YG5Jzkp6moeryv2f/Z","aspectRatio":1,"src":"/static/2cf0fa535296e10ce72e75178634e4ea/ec46e/valentin-mihov.jpg","srcSet":"/static/2cf0fa535296e10ce72e75178634e4ea/a2637/valentin-mihov.jpg 82w,\n/static/2cf0fa535296e10ce72e75178634e4ea/15203/valentin-mihov.jpg 164w,\n/static/2cf0fa535296e10ce72e75178634e4ea/ec46e/valentin-mihov.jpg 328w,\n/static/2cf0fa535296e10ce72e75178634e4ea/b69a5/valentin-mihov.jpg 492w,\n/static/2cf0fa535296e10ce72e75178634e4ea/dadfe/valentin-mihov.jpg 638w","srcWebp":"/static/2cf0fa535296e10ce72e75178634e4ea/5a48e/valentin-mihov.webp","srcSetWebp":"/static/2cf0fa535296e10ce72e75178634e4ea/2d087/valentin-mihov.webp 82w,\n/static/2cf0fa535296e10ce72e75178634e4ea/29d87/valentin-mihov.webp 164w,\n/static/2cf0fa535296e10ce72e75178634e4ea/5a48e/valentin-mihov.webp 328w,\n/static/2cf0fa535296e10ce72e75178634e4ea/42f2e/valentin-mihov.webp 492w,\n/static/2cf0fa535296e10ce72e75178634e4ea/3ea68/valentin-mihov.webp 638w","sizes":"(max-width: 328px) 100vw, 328px"}}}],"basePath":"/","permalink":"https://valentinmihov.com/smart-contract-risk-assessment/","slug":"/smart-contract-risk-assessment","id":"6e775b27-ab22-5192-9add-dcf63d9ceed6","title":"Smart Contract Risk Assessment","canonicalUrl":null,"mailchimp":"","next":[{"id":"98b8918b-ee6c-50b1-8bb0-4a34d51b90a5","slug":"/defi-investing-and-yield-farming","secret":false,"title":"DeFi Investing & Yield Farming","author":"Valentin Mihov","date":"January 3rd, 2021","dateForSEO":"2021-01-03T00:00:00.000Z","timeToRead":5,"excerpt":"Photo by  Micheile Henderson  on  Unsplash During the summer of 2020 a new trend picked up in the blockchain world: yield farming. The termâ€¦","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"DeFi Investing & Yield Farming\",\n  \"author\": \"Valentin Mihov\",\n  \"date\": \"2021-01-03T00:00:00.000Z\",\n  \"hero\": \"./images/hero.jpg\",\n  \"excerpt\": null\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Photo by \", mdx(\"a\", {\n    href: \"https://unsplash.com/@micheile?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n  }, \"Micheile Henderson\"), \" on \", mdx(\"a\", {\n    href: \"https://unsplash.com/s/photos/money?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n  }, \"Unsplash\")), mdx(\"p\", null, \"During the summer of 2020 a new trend picked up in the blockchain world: yield farming. The term \\\"yield farming\\\" is used\\nfor the activity of looking for opportunities to deploy capital in smart contracts and receive high yield on that capital.\\nExample of such opportunities are decentralized lending protocols, like \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://compound.finance\"\n  }), \"Compound\"), \". These protocols allow to deposit funds, that are being lend out and the borrowers pay interest on the loans. The interest is paid back to the\\nliquidity providers of the protocol. This is similar to being a shareholder in a bank and getting dividends from the revenue\\nof the bank. The main difference is that the bank will be keeping a large margin on the revenue, while in the DeFi world most of the revenue is paid out to the liquidity providers.\"), mdx(\"p\", null, \"There are several dimensions in yield farming that one need to take into consideration when deciding if a given opportunity\\nis worth it:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"smart contract risk\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"protocol level yield\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"subsidized yield\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"size of the market\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"price risk\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"gas costs\")), mdx(\"p\", null, \"Let's look at each of these factors.\"), mdx(\"h2\", null, \"Smart contract risk\"), mdx(\"p\", null, \"This is a very important point, as a security problem in the smart contract, could lead to 100% loss of funds, which is\\nsomething very hard to recover from. Generally older protocols are more secure compared to the newer ones. Also more complex\\nsystems are more prone to bugs, compared to simple protocols. Another easy rule is that protocols, which interact with\\na lot of other systems and has a lot of dependencies, like external oracles, are more prone to exploits.\"), mdx(\"p\", null, \"The topic of smart contract security is broad and I have written another article about it: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/smart-contract-risk-assessment\"\n  }), \"Smart Contract Risk Assessment\"), \" Check it out, so that you get a better understanding of the different types of smart contract risk.\"), mdx(\"h2\", null, \"Protocol level yield\"), mdx(\"p\", null, \"Something which is important to understand about a DeFi protocol, is how that protocol is generating revenue. For example \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://uniswap.exchange\"\n  }), \"Uniswap\"), \" is a decentralized exchange, which is charging 0.3% on each trade done on it. If you provide liquidity in this protocol, you will be earning your share of the collected fees. In this particular case it is important to identify the trading pairs, which generate the most amount of volume and compare that to the liquidity of the pair. The pairs with the best volume/liquidity ratio are giving the best yield.\"), mdx(\"p\", null, \"If a given protocol is not generating revenue, this is a red flag that may be the protocol is a scam or won't last long as\\nit won't be able to sustain itself.\"), mdx(\"h2\", null, \"Subsidized yield\"), mdx(\"p\", null, \"Many times, when a new protocol launches it needs to attract liquidity. In order to do that, the developers of the protocol\\nincentivize the liquidity providers to put their money in the protocol and give them back some new governance token. The\\ndevelopers make sure there is a market for the new token, so that the rewards can be cashed out. By making this subsidy,\\nthe protocol is able to bootstrap its liquidity and this is usually a nice opportunity to earn extra yield on your funds.\"), mdx(\"p\", null, \"Finding such opportunities might be non-trivial, as it requires keeping an eye on a lot of information channels and spending\\ntime being up to date with the latest subsidy programs, price of the reward tokens and re-balancing between all the opportunities.\"), mdx(\"p\", null, \"On the other hand such subsidized programs can offer very lucrative yields ranging from 30% APR up to crazy 5000%+ APR without\\na lot of price risk (on stablecoin funds). Usually the high yield of such programs doesn't last long as the capital floods in\\nand dilutes the rewards, so it is important to get onboard early.\"), mdx(\"h2\", null, \"Size of the market\"), mdx(\"p\", null, \"The size of the market is the total value locked in a particular protocol (a.k.a. TVL). This number is important, because usually the amount of rewards being paid out is fixed and it is distributed across all the depositors. For example if a given opportunity is giving a 100% APR on a TVL of \\\\$1_000_000 if someone deposits 1 million dollars in the protocol, the APR will drop in half and will become 50% APR. It is important to keep an eye on the TVL and make sure you understand the change of the APR when you deposit. This is usually a problem, which larger depositors should keep in mind.\"), mdx(\"p\", null, \"In some cases it is even possible that the TVL is so small, that there is no point in investing at all, as putting a meaningful sum into the protocol will dilute the APR too much. This is especially true for opportunities that has been around for a long time and are already \\\"farmed out\\\".\"), mdx(\"h2\", null, \"Price risk\"), mdx(\"p\", null, \"It is very important what kind of asset you need to deposit into the protocol to get the yield. In most cases the highest yield is offered on assets, which carry a very high price risk. For example, if Compound offers 50% annual yield on depositing $BAT tokens, you need to keep in mind that the price of $BAT might drop over 50% during the year, which will offset the yield and even cause loss in your portfolio in USD terms.\"), mdx(\"p\", null, \"Imagine the current price of $BAT is $1 and you deposit $1000. In one year your potential yield is $500, but if the price of $BAT drops to $0.5, then your principal will be $500 and the yield you would have earned will be less than $500. Your total portfolio will be below \\\\$1000 and you would have realized a total loss.\"), mdx(\"p\", null, \"There are a couple of ways to mitigate the above price risk:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Try not to buy tokens in order to farm. Buying the tokens exposes you 100% to their price risk\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you able to borrow the tokens, try to do that. Be cautious about the interest of your loan as it decreases the total APR you are earning\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you buy the tokens, try to hedge them by making a short position against them. This is usually only possible on a centralized exchange\")), mdx(\"h2\", null, \"Gas costs\"), mdx(\"p\", null, \"When you invest into a given opportunity, the next question is: how often to claim the rewards and what to do with them. The frequency of claiming the rewards is determined by the gas costs of claiming them. Each transaction on the Ethereum blockchain costs money and in cases of high congestion these taxes are quite high. I usually recommend not to spend more than 5-10% of the claimed rewards in gas costs. That means that if the transaction cost for claiming the rewards, selling them and reinvesting is $10 in gas costs, the size of the claimed rewards should be at least $100-200 in order to be worth it.\"), mdx(\"p\", null, \"The above rule will yield different frequency of claiming the rewards. If you have a large position with a high yield you might be able to claim the rewards several times a day. On the other hand if your position is small it might be better to do the claim once every 2-3 days.\"), mdx(\"p\", null, \"The gas costs are also connected with what exactly you do with the rewards, after you claim them. One very simple strategy is to sell them for some stablecoin like $USDC. Another is to buy more of the token you farm with and stake them into the farm. A third option is to convert them to $ETH. The decision what to do with the farmed rewards is determined by your investment thesis and your general strategy.\"), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"Yield farming has evolved a lot in 2020. Personally I was not expecting the yield opportunities to continue for so long, but it looks like there are more and more DeFi projects being rolled out. All of these projects are competing for liquidity and in many cases offering rewards for the people willing to put their funds in them. As you navigate the universe of opportunities, don't forget to keep in mind the above points. Try to be level headed about the levels of risk you are taking. Keep in mind that many of these opportunities are zero-sum games, so if someone is winning, someone else is losing money. The correct balance between risk and reward are going to make you successful.\"), mdx(\"p\", null, \"If you have questions you can contract me on twitter: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov\"\n  }), \"https://twitter.com/valentinmihov\")));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABhrT3o3E4v//EABoQAAMBAAMAAAAAAAAAAAAAAAECEQADEhP/2gAIAQEAAQUCL3UqKcKxbkbt6Pv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREQITEyYf/aAAgBAQAGPwLbmOCN+jjh2Z//xAAZEAADAQEBAAAAAAAAAAAAAAAAASERQfH/2gAIAQEAAT8hg7hQBuyjYAo1HxM94//aAAwDAQACAAMAAAAQ5w//xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhYf/aAAgBAwEBPxBKtIP/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEUH/2gAIAQIBAT8Q1X//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhURCBMWGh/9oACAEBAAE/EEFggyUX6mSsneIAlFNePsTlQO1S2pGhXFv/2Q==","aspectRatio":1.5031847133757963,"src":"/static/814bcb27bbec166e25e0884c90d1f07e/58fe7/hero.jpg","srcSet":"/static/814bcb27bbec166e25e0884c90d1f07e/e0f30/hero.jpg 236w,\n/static/814bcb27bbec166e25e0884c90d1f07e/86afd/hero.jpg 472w,\n/static/814bcb27bbec166e25e0884c90d1f07e/58fe7/hero.jpg 944w,\n/static/814bcb27bbec166e25e0884c90d1f07e/02748/hero.jpg 1416w,\n/static/814bcb27bbec166e25e0884c90d1f07e/5c241/hero.jpg 1888w,\n/static/814bcb27bbec166e25e0884c90d1f07e/097fa/hero.jpg 1920w","srcWebp":"/static/814bcb27bbec166e25e0884c90d1f07e/99fbb/hero.webp","srcSetWebp":"/static/814bcb27bbec166e25e0884c90d1f07e/77392/hero.webp 236w,\n/static/814bcb27bbec166e25e0884c90d1f07e/1f177/hero.webp 472w,\n/static/814bcb27bbec166e25e0884c90d1f07e/99fbb/hero.webp 944w,\n/static/814bcb27bbec166e25e0884c90d1f07e/4a492/hero.webp 1416w,\n/static/814bcb27bbec166e25e0884c90d1f07e/b0b8f/hero.webp 1888w,\n/static/814bcb27bbec166e25e0884c90d1f07e/30cf3/hero.webp 1920w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABhrT3o3E4v//EABoQAAMBAAMAAAAAAAAAAAAAAAECEQADEhP/2gAIAQEAAQUCL3UqKcKxbkbt6Pv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREQITEyYf/aAAgBAQAGPwLbmOCN+jjh2Z//xAAZEAADAQEBAAAAAAAAAAAAAAAAASERQfH/2gAIAQEAAT8hg7hQBuyjYAo1HxM94//aAAwDAQACAAMAAAAQ5w//xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhYf/aAAgBAwEBPxBKtIP/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEUH/2gAIAQIBAT8Q1X//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhURCBMWGh/9oACAEBAAE/EEFggyUX6mSsneIAlFNePsTlQO1S2pGhXFv/2Q==","aspectRatio":1.4954128440366972,"src":"/static/814bcb27bbec166e25e0884c90d1f07e/1dc0b/hero.jpg","srcSet":"/static/814bcb27bbec166e25e0884c90d1f07e/3a5ce/hero.jpg 163w,\n/static/814bcb27bbec166e25e0884c90d1f07e/05730/hero.jpg 327w,\n/static/814bcb27bbec166e25e0884c90d1f07e/1dc0b/hero.jpg 653w,\n/static/814bcb27bbec166e25e0884c90d1f07e/f72c7/hero.jpg 980w,\n/static/814bcb27bbec166e25e0884c90d1f07e/6e4a3/hero.jpg 1306w,\n/static/814bcb27bbec166e25e0884c90d1f07e/097fa/hero.jpg 1920w","srcWebp":"/static/814bcb27bbec166e25e0884c90d1f07e/0acdf/hero.webp","srcSetWebp":"/static/814bcb27bbec166e25e0884c90d1f07e/ac59e/hero.webp 163w,\n/static/814bcb27bbec166e25e0884c90d1f07e/7660b/hero.webp 327w,\n/static/814bcb27bbec166e25e0884c90d1f07e/0acdf/hero.webp 653w,\n/static/814bcb27bbec166e25e0884c90d1f07e/75470/hero.webp 980w,\n/static/814bcb27bbec166e25e0884c90d1f07e/68d47/hero.webp 1306w,\n/static/814bcb27bbec166e25e0884c90d1f07e/30cf3/hero.webp 1920w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABhrT3o3E4v//EABoQAAMBAAMAAAAAAAAAAAAAAAECEQADEhP/2gAIAQEAAQUCL3UqKcKxbkbt6Pv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREQITEyYf/aAAgBAQAGPwLbmOCN+jjh2Z//xAAZEAADAQEBAAAAAAAAAAAAAAAAASERQfH/2gAIAQEAAT8hg7hQBuyjYAo1HxM94//aAAwDAQACAAMAAAAQ5w//xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhYf/aAAgBAwEBPxBKtIP/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEUH/2gAIAQIBAT8Q1X//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhURCBMWGh/9oACAEBAAE/EEFggyUX6mSsneIAlFNePsTlQO1S2pGhXFv/2Q==","aspectRatio":1.5,"src":"/static/814bcb27bbec166e25e0884c90d1f07e/eaa58/hero.jpg","srcSet":"/static/814bcb27bbec166e25e0884c90d1f07e/5a3ee/hero.jpg 114w,\n/static/814bcb27bbec166e25e0884c90d1f07e/41f8f/hero.jpg 229w,\n/static/814bcb27bbec166e25e0884c90d1f07e/eaa58/hero.jpg 457w,\n/static/814bcb27bbec166e25e0884c90d1f07e/c309b/hero.jpg 686w,\n/static/814bcb27bbec166e25e0884c90d1f07e/e3008/hero.jpg 914w,\n/static/814bcb27bbec166e25e0884c90d1f07e/097fa/hero.jpg 1920w","srcWebp":"/static/814bcb27bbec166e25e0884c90d1f07e/15384/hero.webp","srcSetWebp":"/static/814bcb27bbec166e25e0884c90d1f07e/31fce/hero.webp 114w,\n/static/814bcb27bbec166e25e0884c90d1f07e/e3e25/hero.webp 229w,\n/static/814bcb27bbec166e25e0884c90d1f07e/15384/hero.webp 457w,\n/static/814bcb27bbec166e25e0884c90d1f07e/0258d/hero.webp 686w,\n/static/814bcb27bbec166e25e0884c90d1f07e/64ea2/hero.webp 914w,\n/static/814bcb27bbec166e25e0884c90d1f07e/30cf3/hero.webp 1920w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/814bcb27bbec166e25e0884c90d1f07e/0ff54/hero.jpg"}}},{"id":"6e775b27-ab22-5192-9add-dcf63d9ceed6","slug":"/smart-contract-risk-assessment","secret":false,"title":"Smart Contract Risk Assessment","author":"Valentin Mihov","date":"December 20th, 2020","dateForSEO":"2020-12-20T00:00:00.000Z","timeToRead":4,"excerpt":"One of the most important aspects of DeFi investing and yield farming is the risk assessment of the smart contract where the funds are being put.","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Smart Contract Risk Assessment\",\n  \"author\": \"Valentin Mihov\",\n  \"date\": \"2020-12-20T00:00:00.000Z\",\n  \"hero\": \"./images/hero.jpg\",\n  \"excerpt\": \"One of the most important aspects of DeFi investing and yield farming is the risk assessment of the smart contract where the funds are being put.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Photo credit: \", mdx(\"a\", {\n    href: \"https://unsplash.com/@charlesdeluvio?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n  }, \"Charles Deluvio\"), \" on \", mdx(\"a\", {\n    href: \"https://unsplash.com/s/photos/code-review?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n  }, \"Unsplash\")), mdx(\"p\", null, \"One of the most important aspects of DeFi investing and yield farming is the risk assessment of the smart contract where the funds are being put. During 2020 there were multiple hacks, which exploited vulnerabilities in the DeFi protocols, leading to millions of dollars lost by the depositors. I've been involved in smart contract risk assessment since the DeFi craze started. Before that I was a CTO in the blockchain analytics company \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://santiment.net/\"\n  }), \"Santiment Network\"), \". The time at Santiment helped me dive into a lot of Ethereum smart contract code and gain experience in analyzing and understanding the emerging DeFi protocols.\"), mdx(\"p\", null, \"There are two main smart contract risks which DeFi investors should be looking for: scams (a.k.a. \\\"rug pulls\\\") and bugs/vulnerabilities. Let's first dive into the easier one: scams.\"), mdx(\"h2\", null, \"Scams\"), mdx(\"p\", null, \"As the DeFi ecosystem is growing exponentially, the amount of scammers trying to profit quickly increases. The scams have different form and approach to stealing money. In many cases the scammers fork an existing popular DeFi protocol and market it as a new alternative. They offer tempting rewards for everyone that deposit in the protocol in the form of crazy returns, usually reaching to values like 10000% annually. The rewards are usually paid in form of a new governance token, which is created by the scammers. The key differentiation here is that the scammers modify the source code of the forked protocol and include some kind of mechanism which allows them to drain the deposited funds in an address that they control. The so called \\\"rug pull\\\" mechanism is either a function, which a privileged address can call or a lack of a timelock protection of an important privileged mechanism.\"), mdx(\"p\", null, \"Usually these protocols does not attract a lot of funds in them, as the backdoors are obvious for the experienced security experts. The amount of funds being stolen in such a scam is usually under \\\\$500,000, which is smaller compared to vulnerability exploits or centralized exchange hacks, but still they are very painful for the victims. Especially when they are easily preventable if you have an expert you can ask about the safety of a given protocol.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"In the other news: a sushi fork called KoalaSwap rug pulled today $180k using a malicious migrator in the staking contract. They claimed they need 24h to put a timelock, so that they can adjust the weights of the pools. Stay safe there folks. Don't trust super high APYs \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/search?q=%24KOALA&src=ctag&ref_src=twsrc%5Etfw\"\n  }), \"$KOALA\"), \" \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/DXHsSqEGmp\"\n  }), \"pic.twitter.com/DXHsSqEGmp\")), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1330478266252144640\"\n  }), \"November 22, 2020\"))), mdx(\"p\", null, \"The biggest scam that happened in 2020 was Compounder, which managed to steal around $12 million. In this situation the anonymous developer made a fork of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://yearn.finance/vaults\"\n  }), \"yEarn Vault\"), \" smart contract system and incentivized the participants to deposit liquidity by giving away a large amount of the newly created governance token $CP3R. The protocol operated for about a month, until the developer submitted a malicious changes into its Timelock. The timelocks are put in place so that the participants in the protocol has time to review the changes and withdraw their funds. In this case nobody was paying attention to the changes submitted in the Timelock and after 24 hours the changes went into force, allowing the dev to drain all the funds from the protocols.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"Another rugpull. 10m rugged this time. On a project which was claimed safe by ppl like \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/defiyield_info\"\n  }), \"@defiyield_info\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/SolidityFinance\"\n  }), \"@SolidityFinance\"), \". A good reminder that audits are not a 100% guarantee for safu. The sad thing is that the exploit was quite a simple backdoor \\uD83E\\uDD14 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/bgX0TPvOu3\"\n  }), \"https://t.co/bgX0TPvOu3\")), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1333817662338699265\"\n  }), \"December 1, 2020\"))), mdx(\"p\", null, \"The sad part of the story is that depositors had 24 hours to see the submitted changes and withdraw their funds, but nobody was paying attention. This is why it is important to monitor each Timelock contract of the protocols you put funds into and review any changes submitted there.\"), mdx(\"h2\", null, \"Bugs and vulnerabilities\"), mdx(\"p\", null, \"The second type of problems, which could lead to losing funds in DeFi are bugs and vulnerabilities in the smart contracts. These are problems, which were not added in purpose by the developers, but could lead to hackers exploiting them and stealing funds. One of the most frequent vulnerabilities is an oracle sandwich attack. In this attack a special smart contract is deployed, which makes several steps in a single transaction:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Make one or more flash loans borrowing millions of dollars of tokens\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Manipulate the price of some tokens on exchanges like Uniswap by swapping the borrowed assets\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Execute some actions in the victim protocol, which at this point sees the manipulated prices\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Buy back the borrowed assets and return the market prices to the normal levels\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Return the flash loans\")), mdx(\"p\", null, \"After this sequence of steps the hacker is left with huge amount of profits, as the victim protocol use a manipulated price for making its calculations and thus allowing the attacker to be left with more funds, than he should be. This makes the protocol insolvent and causes the depositors to lose part or all of their investment.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"1/ Here is a breakdown of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/harvest_finance\"\n  }), \"@harvest_finance\"), \" attack. Ref \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/hIBXVQh4ca\"\n  }), \"https://t.co/hIBXVQh4ca\"), mdx(\"br\", {\n    parentName: \"p\"\n  }), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"1. Swap 11.4m USDC to USDT -> USDT price up\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"2. Deposit 60.6m USDT into Vault\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"3. Exchange 11.4m USDT to USDC -> USDT price down\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"4. Withdraw 61.1m USDT from Vault -> 0.5m profit\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"5. Rinse and repeat\"), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1320667338321154048\"\n  }), \"October 26, 2020\"))), mdx(\"p\", null, \"Although the vulnerability is well known it is not always easy to detect it when reviewing the code. In many cases the DeFi protocols are very complicated or work with other complex money legos, like baskets of tokens. This is why detecting these problems during a security review is hard and usually the person that finds the problem is also going to exploit it. If the person is with good intentions he returns the funds to the protocol after the bug is fixed, but in most cases the money are gone and the depositors never see their funds again.\"), mdx(\"p\", null, \"In order to mitigate risk against such bugs it's very important to make a good assessment of the complexity of the new protocols. Things to look for:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"leveraged positions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"pricing complex tokens, like baskets of stables\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"plug-able architectures that allow forwarding the deposited funds around different places (a.k.a. vaults)\")), mdx(\"p\", null, \"The safer protocols are the ones that has been around longer, like yEarn Vaults, Uniswap, Aave, Compound. Keep in mind that even in these cases, there are problems popping up. For example Aave saw a security problem being disclosed after many months of operating.\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"Breaking Aave Upgradeability \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/ZLqEzauYki\"\n  }), \"https://t.co/ZLqEzauYki\")), \"\\u2014 Trail of Bits (@trailofbits) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/trailofbits/status/1339239357132251136\"\n  }), \"December 16, 2020\"))), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"As you can see there are smart contract risks which can be found quite easily by an expert and there are other problems, which are more tricky to detect and usually remain un-noticed. The hardest pat is to assess the unknown risks and try to be level headed about the protocols you invest into. I am thoroughly reviewing each protocol my clients and I are investing into. So far there hasn't been a single instance of funds being lost due to a scam or a bug in my investments. You can see how a professional security review looks like from my report on Dracula Protocol:\"), mdx(\"p\", null, mdx(\"blockquote\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"twitter-tweet\",\n    \"data-dnt\": \"true\"\n  }), mdx(\"p\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"lang\": \"en\",\n    \"dir\": \"ltr\"\n  }), \"0/ I was approached by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/DraculaProtocol\"\n  }), \"@DraculaProtocol\"), \" to do a security review of their smart contracts. I do this work for private clients, so I haven't published such reports recently. I decided to take the offer and do the review as this protocol is interesting to me \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/eZjrefOgbn\"\n  }), \"https://t.co/eZjrefOgbn\"), \" \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://t.co/hNoVcCClsc\"\n  }), \"pic.twitter.com/hNoVcCClsc\")), \"\\u2014 Valentin Mihov (@valentinmihov) \", mdx(\"a\", _extends({\n    parentName: \"blockquote\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov/status/1317120493577768960\"\n  }), \"October 16, 2020\"))), mdx(\"p\", null, \"Wish you profitable farming and be careful out there! If you have questions you can contract me on twitter: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/valentinmihov\"\n  }), \"https://twitter.com/valentinmihov\")));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAcOknEw5Gn//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAhAyJB/9oACAEBAAEFAjMdsy7dFQNX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AWSv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AW1//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAY/AoY//8QAGRABAQEAAwAAAAAAAAAAAAAAAQARITFR/9oACAEBAAE/IRjAw9s1nUwPEyI2/9oADAMBAAIAAwAAABAM3//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QHHZ6L//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QaqIYf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUWH/2gAIAQEAAT8QIca+xUsA0+TMKTYQ3TJcaA8jJ1yf/9k=","aspectRatio":1.5031847133757963,"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/58fe7/hero.jpg","srcSet":"/static/9453d7cd715d9c94eb7ad90dd2455250/e0f30/hero.jpg 236w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/86afd/hero.jpg 472w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/58fe7/hero.jpg 944w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/02748/hero.jpg 1416w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5c241/hero.jpg 1888w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5e32d/hero.jpg 5472w","srcWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/99fbb/hero.webp","srcSetWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/77392/hero.webp 236w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/1f177/hero.webp 472w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/99fbb/hero.webp 944w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/4a492/hero.webp 1416w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/b0b8f/hero.webp 1888w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/abbc8/hero.webp 5472w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAcOknEw5Gn//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAhAyJB/9oACAEBAAEFAjMdsy7dFQNX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AWSv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AW1//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAY/AoY//8QAGRABAQEAAwAAAAAAAAAAAAAAAQARITFR/9oACAEBAAE/IRjAw9s1nUwPEyI2/9oADAMBAAIAAwAAABAM3//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QHHZ6L//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QaqIYf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUWH/2gAIAQEAAT8QIca+xUsA0+TMKTYQ3TJcaA8jJ1yf/9k=","aspectRatio":1.4954128440366972,"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/1dc0b/hero.jpg","srcSet":"/static/9453d7cd715d9c94eb7ad90dd2455250/3a5ce/hero.jpg 163w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/05730/hero.jpg 327w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/1dc0b/hero.jpg 653w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/f72c7/hero.jpg 980w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/6e4a3/hero.jpg 1306w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5e32d/hero.jpg 5472w","srcWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/0acdf/hero.webp","srcSetWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/ac59e/hero.webp 163w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/7660b/hero.webp 327w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/0acdf/hero.webp 653w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/75470/hero.webp 980w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/68d47/hero.webp 1306w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/abbc8/hero.webp 5472w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAcOknEw5Gn//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAhAyJB/9oACAEBAAEFAjMdsy7dFQNX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AWSv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AW1//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAY/AoY//8QAGRABAQEAAwAAAAAAAAAAAAAAAQARITFR/9oACAEBAAE/IRjAw9s1nUwPEyI2/9oADAMBAAIAAwAAABAM3//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QHHZ6L//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QaqIYf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUWH/2gAIAQEAAT8QIca+xUsA0+TMKTYQ3TJcaA8jJ1yf/9k=","aspectRatio":1.5,"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/eaa58/hero.jpg","srcSet":"/static/9453d7cd715d9c94eb7ad90dd2455250/5a3ee/hero.jpg 114w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/41f8f/hero.jpg 229w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/eaa58/hero.jpg 457w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/c309b/hero.jpg 686w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/e3008/hero.jpg 914w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/5e32d/hero.jpg 5472w","srcWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/15384/hero.webp","srcSetWebp":"/static/9453d7cd715d9c94eb7ad90dd2455250/31fce/hero.webp 114w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/e3e25/hero.webp 229w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/15384/hero.webp 457w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/0258d/hero.webp 686w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/64ea2/hero.webp 914w,\n/static/9453d7cd715d9c94eb7ad90dd2455250/abbc8/hero.webp 5472w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/9453d7cd715d9c94eb7ad90dd2455250/0ff54/hero.jpg"}}}]}},"staticQueryHashes":["1143375668","1491088328","1921650733","2068910035","2444214635"]}